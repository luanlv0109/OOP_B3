        <!DOCTYPE html>
        <html xmlns:th="http://www.thymeleaf.org">
        <head>
            <title>Thêm Phòng Ban</title>
            <style>
                body {
                    font-family: Arial, sans-serif;
                }
                .main-content {
                    margin-left: 220px; /* Đẩy nội dung chính ra bên phải, chừa chỗ cho sidebar */
                    padding: 20px;
                }
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-top: 20px;
                }
                table, th, td {
                    border: 1px solid #ddd;
                }
                th, td {
                    padding: 8px;
                    text-align: left;
                }
                th {
                    background-color: #f4f4f4;
                }
                tr:nth-child(even) {
                    background-color: #f9f9f9;
                }
                tr:hover {
                    background-color: #f1f1f1;
                }
                a {
                    color: blue;
                    text-decoration: none;
                }
                a:hover {
                    text-decoration: underline;
                }
                .grid {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 20px;
                    background-color: #fff;
                    padding: 20px;
                    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                    border-radius: 8px;
                }

                .col-6 {
                    width: calc(50% - 10px); /* 50% width trừ khoảng cách giữa các cột */
                    box-sizing: border-box;
                }

                input[type="text"], input[type="number"],
                input[type="email"], input[type="date"],
                .main-content > select, textarea , .select-content{
                    width: 100%;
                    padding: 10px;
                    margin-bottom: 10px;
                    border: 1px solid #ccc;
                    border-radius: 4px;
                    box-sizing: border-box;
                    font-size: 14px;
                }

                label {
                    display: block;
                    margin-bottom: 5px;
                    font-weight: bold;
                }
                .full-width{
                    width: calc(100% - 10px); /* 50% width trừ khoảng cách giữa các cột */
                    box-sizing: border-box;
                }

                button {
                    width: 100%;
                    padding: 12px;
                    background-color: #0083b0;
                    color: white;
                    border: none;
                    border-radius: 4px;
                    font-size: 16px;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                }

                button:hover {
                    background-color: #00729a;
                }

                #toast-error {
                    position: absolute; /* Định vị theo absolute */
                    top: 70px; /* Cách phần trên cùng của trang 170px */
                    right: 20px; /* Cách phần bên phải của trang 20px */
                    background-color: #f8d7da; /* Màu nền đỏ nhạt (thể hiện lỗi) */
                    color: #721c24; /* Màu chữ đỏ đậm */
                    border: 1px solid #f5c6cb; /* Viền đỏ nhạt */
                    padding: 15px; /* Khoảng cách padding */
                    border-radius: 5px; /* Bo góc */
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Hiệu ứng đổ bóng */
                    z-index: 1000; /* Đảm bảo toast nằm trên cùng */
                    font-size: 14px; /* Kích thước font chữ */
                }
            </style>

        </head>
        <body>
        <div th:if="${session.user == null}">
            <script th:inline="javascript">
                /*<![CDATA[*/
                window.location.href = /*[[@{/login}]]*/ '/login';
                /*]]>*/
            </script>
        </div>
        <!-- Header -->
        <div th:replace="layout/header :: header(#{admin.addEmployeeHeader})"></div>

        <!-- Sidebar -->
        <div th:replace="layout/sidebar :: sidebar"></div>

        <!-- Nội dung chính -->
        <div class="main-content">

            <div  id="toast-error" >
                <span th:text="${errorMessage}"></span>
            </div>


            <h2 th:text="#{admin.addEmployee}"></h2>

            <form th:action="@{/admin/employees/add}" th:object="${employee}" method="post" enctype="multipart/form-data">
                <div class="grid">
                    <div class="col-6">
                        <label for="code" th:text="#{label.employeeCode}">Mã nhân viên:</label>
                        <input type="text" th:field="*{code}" id="code" th:placeholder="#{placeholder.enterEmployeeCode}">
                    </div>

                    <div class="col-6">
                        <label for="name" th:text="#{label.employeeName}">Tên nhân viên:</label>
                        <input type="text" th:field="*{name}" id="name" th:placeholder="#{placeholder.enterEmployeeName}">
                    </div>

                    <div class="col-6">
                        <label for="email" th:text="#{label.employeeEmail}">Email:</label>
                        <input type="email" th:field="*{email}" id="email" th:placeholder="#{placeholder.enterEmployeeEmail}">
                    </div>

                    <div class="col-6">
                        <label for="dob" th:text="#{label.employeeDob}">Ngày sinh:</label>
                        <input type="date" th:field="*{dob}" id="dob">
                    </div>

                    <div class="col-6">
                        <label for="gender" th:text="#{label.employeeGender}">Giới tính:</label>
                        <select class ="select-content"  th:field="*{gender}" id="gender">
                            <option value="Male" th:text="#{label.male}"></option>
                            <option value="Female" th:text="#{label.female}"></option>
                            <option value="Other" th:text="#{label.other}"></option>
                        </select>
                    </div>

                    <div class="col-6">
                        <label for="imageFile" th:text="#{label.employeeImage}">Ảnh:</label>
                        <input type="file" id="imageFile" name="imageFile" accept="image/*" onchange="previewImage(event)">
                        <img id="imagePreview" src="" alt="[[#{label.selectedImage}]]" style="display:none; margin-top: 10px; width: 200px; height: 200px; object-fit: cover;">
                    </div>

                    <div class="col-6">
                        <label for="salary" th:text="#{label.employeeSalary}">Lương:</label>
                        <input type="number" th:field="*{salary}" id="salary" th:placeholder="#{placeholder.enterEmployeeSalary}">
                    </div>

                    <div class="col-6">
                        <label for="level" th:text="#{label.employeeLevel}">Cấp bậc:</label>
                        <input type="number" th:field="*{level}" id="level" th:placeholder="#{placeholder.enterEmployeeLevel}">
                    </div>

                    <div class="col-6">
                        <label for="phone" th:text="#{label.employeePhone}">Số điện thoại:</label>
                        <input type="text" th:field="*{phone}" id="phone" th:placeholder="#{placeholder.enterEmployeePhone}">
                    </div>

                    <div class="col-6">
                        <label for="department" th:text="#{label.employeeDepartment}">Phòng ban:</label>
                        <select  class ="select-content" th:field="*{departmentId}">
                            <option value="" th:text="#{label.selectDepartment}"></option>
                            <option th:each="department : ${departments}" th:value="${department.id}" th:text="${department.name}"></option>
                        </select>
                    </div>

                    <div class="full-width">
                        <label for="note" th:text="#{label.employeeNote}">Ghi chú:</label>
                        <textarea th:field="*{note}" id="note" th:placeholder="#{placeholder.enterEmployeeNote}"></textarea>
                    </div>

                    <div class="full-width">
                        <button type="submit" th:text="#{button.save}">Lưu</button>
                    </div>
                </div>
            </form>
        </div>


        <!-- Footer -->
        <div th:replace="layout/footer :: footer"></div>
        <script src="/js/language-selector.js"></script>

        <script>
            function previewImage(event) {
                const input = event.target;
                const file = input.files[0];

                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imagePreview = document.getElementById('imagePreview');
                        imagePreview.src = e.target.result;
                        imagePreview.style.display = 'block'; // Hiển thị ảnh
                    }
                    reader.readAsDataURL(file); // Đọc file ảnh
                }
            }
            window.onload = function () {
                // Đặt thời gian chờ 3 giây (3000 milliseconds)
                setTimeout(function () {
                    console.log("vao dta");
                    // Lấy phần tử có id là 'toast'á
                    var toastElement = document.getElementById("toast-error");
                    console.log(toastElement)
                    // Kiểm tra xem phần tử có tồn tại không
                    if (toastElement) {
                        // Gán display = 'none' để ẩn phần tử
                        toastElement.style.display = "none";
                    }
                }, 3000); // 3 giây
            };
        </script>
        </body>
        </html>
