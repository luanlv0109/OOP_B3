        <!DOCTYPE html>
        <html xmlns:th="http://www.thymeleaf.org">
        <head>
            <title>Thêm Phòng Ban</title>
            <link rel="stylesheet" href="/css/common.css">

        </head>
        <body>
        <div th:if="${session.user == null}">
            <script th:inline="javascript">
                /*<![CDATA[*/
                window.location.href = /*[[@{/login}]]*/ '/login';
                /*]]>*/
            </script>
        </div>
        <!-- Header -->
        <div th:replace="layout/header :: header(#{admin.addEmployeeHeader})"></div>

        <!-- Sidebar -->
        <div th:replace="layout/sidebar :: sidebar"></div>

        <!-- Nội dung chính -->
        <div class="main-content">

            <div  id="toast-error" >
                <span th:text="${errorMessage}"></span>
            </div>


            <h2 th:text="#{admin.addEmployee}"></h2>

            <form th:action="@{/admin/employees/add}" th:object="${employee}" method="post" enctype="multipart/form-data">
                <div class="grid">
                    <div class="col-6">
                        <label for="code" th:text="#{label.employeeCode}">Mã nhân viên:</label>
                        <input type="text" th:field="*{code}" id="code" th:placeholder="#{placeholder.enterEmployeeCode}">
                    </div>

                    <div class="col-6">
                        <label for="name" th:text="#{label.employeeName}">Tên nhân viên:</label>
                        <input type="text" th:field="*{name}" id="name" th:placeholder="#{placeholder.enterEmployeeName}">
                    </div>

                    <div class="col-6">
                        <label for="email" th:text="#{label.employeeEmail}">Email:</label>
                        <input type="email" th:field="*{email}" id="email" th:placeholder="#{placeholder.enterEmployeeEmail}">
                    </div>

                    <div class="col-6">
                        <label for="dob" th:text="#{label.employeeDob}">Ngày sinh:</label>
                        <input type="date" th:field="*{dob}" id="dob">
                    </div>

                    <div class="col-6">
                        <label for="gender" th:text="#{label.employeeGender}">Giới tính:</label>
                        <select class ="select-content"  th:field="*{gender}" id="gender">
                            <option value="Male" th:text="#{label.male}"></option>
                            <option value="Female" th:text="#{label.female}"></option>
                            <option value="Other" th:text="#{label.other}"></option>
                        </select>
                    </div>

                    <div class="col-6">
                        <label for="imageFile" th:text="#{label.employeeImage}">Ảnh:</label>
                        <input type="file" id="imageFile" name="imageFile" accept="image/*" onchange="previewImage(event)">
                        <img id="imagePreview" src="" alt="[[#{label.selectedImage}]]" style="display:none; margin-top: 10px; width: 200px; height: 200px; object-fit: cover;">
                    </div>

                    <div class="col-6">
                        <label for="salary" th:text="#{label.employeeSalary}">Lương:</label>
                        <input type="number" th:field="*{salary}" id="salary" th:placeholder="#{placeholder.enterEmployeeSalary}">
                    </div>

                    <div class="col-6">
                        <label for="level" th:text="#{label.employeeLevel}">Cấp bậc:</label>
                        <input type="number" th:field="*{level}" id="level" th:placeholder="#{placeholder.enterEmployeeLevel}">
                    </div>

                    <div class="col-6">
                        <label for="phone" th:text="#{label.employeePhone}">Số điện thoại:</label>
                        <input type="text" th:field="*{phone}" id="phone" th:placeholder="#{placeholder.enterEmployeePhone}">
                    </div>

                    <div class="col-6">
                        <label for="department" th:text="#{label.employeeDepartment}">Phòng ban:</label>
                        <select  class ="select-content" th:field="*{departmentId}">
                            <option value="" th:text="#{label.selectDepartment}"></option>
                            <option th:each="department : ${departments}" th:value="${department.id}" th:text="${department.name}"></option>
                        </select>
                    </div>

                    <div class="full-width">
                        <label for="note" th:text="#{label.employeeNote}">Ghi chú:</label>
                        <textarea th:field="*{note}" id="note" th:placeholder="#{placeholder.enterEmployeeNote}"></textarea>
                    </div>

                    <div class="full-width">
                        <button type="submit" th:text="#{button.save}">Lưu</button>
                    </div>
                </div>
            </form>
        </div>


        <!-- Footer -->
        <div th:replace="layout/footer :: footer"></div>
        <script src="/js/language-selector.js"></script>

        <script>
            function previewImage(event) {
                const input = event.target;
                const file = input.files[0];

                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imagePreview = document.getElementById('imagePreview');
                        imagePreview.src = e.target.result;
                        imagePreview.style.display = 'block'; // Hiển thị ảnh
                    }
                    reader.readAsDataURL(file); // Đọc file ảnh
                }
            }
        </script>
        <script src="/js/common.js"></script> <!-- Linked external JS -->

        </body>
        </html>
